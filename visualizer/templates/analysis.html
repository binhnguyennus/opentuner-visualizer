{% extends 'base.html' %}

{% load staticfiles %}
{% block styles %}
    <link rel="stylesheet" href="{% static 'css/form-wizard.css' %}">
{% endblock %}

{% block scripts %}
    <script src="{% static 'js/lib/form-wizard.js' %}"></script>
{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-offset-3 col-md-6">
            <div class="stepwizard">
                <div class="stepwizard-row setup-panel">
                    <div class="stepwizard-step">
                        <a href="#step-1" type="button" class="btn btn-primary btn-circle">1</a>

                        <p>Configuration</p>
                    </div>
                    <div class="stepwizard-step">
                        <a href="#step-2" type="button" class="btn btn-default btn-circle" disabled="disabled">2</a>

                        <p>Parameters</p>
                    </div>
                    <div class="stepwizard-step">
                        <a href="#step-3" type="button" class="btn btn-default btn-circle" disabled="disabled">3</a>

                        <p>Finish and Run</p>
                    </div>
                </div>
            </div>
        </div>
        <form action="{% url 'analysis_store' %}" role="form" method="POST">
            <div class="row setup-content" id="step-1">
                <div class="col-xs-12">
                    <div class="col-md-12">
                        <h3> Configuration</h3>

                        <div class="form-group">
                            <label class="control-label">Database</label>
                            <input type="text" required="required" class="form-control"
                                   placeholder="Enter database path"/>
                        </div>
                        <div class="form-group">
                            <label for="method-select" class="control-label">Method</label>
                            <select id="method-select" class="form-control" required>
                                <option disabled selected>Select Method...</option>
                                <option value="remove">Remove Parameters</option>
                                <option value="compare">Compare Binaries</option>
                                <optgroup label="Machine Learning">
                                    <option value="rf">Random Forest</option>
                                    <option value="rrelief">Regressional Relief</option>
                                </optgroup>
                            </select>
                        </div>
                        <button class="btn btn-primary nextBtn pull-right" type="button">Next</button>
                    </div>
                </div>
            </div>
            <div class="row setup-content" id="step-2">
                <div class="col-xs-12">
                    <div class="col-md-12">
                        <h3> Parameters</h3>
                        <!--Random Forest-->
                        <div class="form-group">
                            <label for="mtry" class="control-label rf">mtry</label>
                            <input id="mtry" type="number" required class="form-control rf" min="0" step="1"
                                   value="50"/>
                        </div>
                        <div class="form-group">
                            <label for="ntree" class="control-label rf">ntree</label>
                            <input id="ntree" type="number" required class="form-control rf" min="0" step="1"
                                   value="500"/>
                        </div>
                        <!--Relief-->
                        <div class="form-group">
                            <label for="neighbours" class="control-label relief">Neighbours</label>
                            <input id="neighbours" type="number" required class="form-control relief" min="0" step="1"
                                   value="20"/>
                        </div>
                        <div class="form-group">
                            <label for="sample" class="control-label relief">Sample Size</label>
                            <input id="sample" type="number" required class="form-control relief" min="0" step="1"
                                   value="100"/>
                        </div>
                        <button class="btn btn-primary nextBtn pull-right" type="button">Next</button>
                    </div>
                </div>
            </div>
            <div class="row setup-content" id="step-3">
                <div class="col-xs-12">
                    <div class="col-md-12">
                        <h3> Step 3</h3>
                        <button class="btn btn-success pull-right" type="submit">Finish!</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
{% endblock %}
{% block customscripts %}
    <script>
        $('#method-select').change(function () {
            var selection = $(this).val();
            var relief = $('.relief');
            var rf = $('.rf');
            switch (selection) {
                case 'rf':
                    relief.hide();
                    break;
                case 'rrelief':
                    rf.hide();
                    break;
                default:
                    rf.hide();
                    relief.hide();
                    break;
            }
        });
    </script>
{% endblock %}